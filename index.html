<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Hello!</title>
</head>
<body>
    <input class="j-search-bar" type="text" />
    <div class="j-results">
    </div>
    <script>
        let timeout = null;
        const debounceSearch = (event) => {
            const value = event.target.value;
            if (timeout) {
                console.log('here');
                clearTimeout(timeout);
                timeout = null;
            }
            timeout = setTimeout(() => {
                if (value) {
                    fetch(`https://api.github.com/search/users?q=${event.target.value}`)
                        .then(res => res.json())
                        .then(res => document.querySelector('.j-results').innerHTML = res.items
                            .map(el => `<div class="user-result">
                                <div class="user-image-wrap">
                                    <img class="user-image" src=${el.avatar_url}/>
                                </div>
                                <p>${el.login}</p>
                            </div>`)
                            .join(''));
                    timeout = null;
                } else {
                    document.querySelector('.j-results').innerHTML = '<p>type something to start searching</p>';
                    console.log('empty search');
                }
            }, 500);
        }
        document.querySelector('.j-search-bar').addEventListener('input', debounceSearch);
    </script>
</body>
</html>